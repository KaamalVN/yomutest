@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import Manrope font */
@import url("https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap");

@layer base {
	:root {
		/* Light theme variables */
		--background: 1 0 0;
		--foreground: 0.145 0 0;
		--card: 1 0 0;
		--card-foreground: 0.145 0 0;
		--popover: 1 0 0;
		--popover-foreground: 0.145 0 0;
		--primary: 0.205 0 0;
		--primary-foreground: 0.985 0 0;
		--secondary: 0.97 0 0;
		--secondary-foreground: 0.205 0 0;
		--muted: 0.97 0 0;
		--muted-foreground: 0.556 0 0;
		--accent: 0.97 0 0;
		--accent-foreground: 0.205 0 0;
		--destructive: 0.577 0.245 27.325;
		--destructive-foreground: 0.985 0 0;
		--border: 0.922 0 0;
		--input: 0.922 0 0;
		--ring: 0.708 0 0;
		--chart-1: 0.646 0.222 41.116;
		--chart-2: 0.6 0.118 184.704;
		--chart-3: 0.398 0.07 227.392;
		--chart-4: 0.828 0.189 84.429;
		--chart-5: 0.769 0.188 70.08;
		--sidebar: 0.985 0 0;
		--sidebar-foreground: 0.145 0 0;
		--sidebar-primary: 0.205 0 0;
		--sidebar-primary-foreground: 0.985 0 0;
		--sidebar-accent: 0.97 0 0;
		--sidebar-accent-foreground: 0.205 0 0;
		--sidebar-border: 0.922 0 0;
		--sidebar-ring: 0.708 0 0;
	}

	.dark {
		/* Dark theme variables - Enhanced for Yomu Reader */
		--background: 0.05 0 0;
		--foreground: 0.95 0 0;
		--card: 0.08 0 0;
		--card-foreground: 0.95 0 0;
		--popover: 0.205 0 0;
		--popover-foreground: 0.985 0 0;
		--primary: 0.65 0.2 280;
		--primary-foreground: 0.98 0 0;
		--secondary: 0.12 0 0;
		--secondary-foreground: 0.9 0 0;
		--muted: 0.1 0 0;
		--muted-foreground: 0.65 0 0;
		--accent: 0.18 0 0;
		--accent-foreground: 0.95 0 0;
		--destructive: 0.704 0.191 22.216;
		--destructive-foreground: 0.985 0 0;
		--border: 0.2 0 0;
		--input: 0.15 0 0;
		--ring: 0.65 0.2 280;
		--chart-1: 0.488 0.243 264.376;
		--chart-2: 0.696 0.17 162.48;
		--chart-3: 0.769 0.188 70.08;
		--chart-4: 0.627 0.265 303.9;
		--chart-5: 0.645 0.246 16.439;
		--sidebar: 0.205 0 0;
		--sidebar-foreground: 0.985 0 0;
		--sidebar-primary: 0.488 0.243 264.376;
		--sidebar-primary-foreground: 0.985 0 0;
		--sidebar-accent: 0.269 0 0;
		--sidebar-accent-foreground: 0.985 0 0;
		--sidebar-border: 1 0 0 / 10%;
		--sidebar-ring: 0.556 0 0;
	}
}

@layer base {
	* {
		@apply border-border;
	}

	html {
		font-family: "Manrope", sans-serif;
		scroll-behavior: smooth;
	}

	body {
		@apply bg-background text-foreground;
		font-family: "Manrope", sans-serif;
		overflow-x: hidden;
		height: 100%;
	}

	html,
	body {
		height: 100%;
		overflow: hidden;
	}

	/* Custom scrollbar for webkit browsers */
	.overflow-y-auto::-webkit-scrollbar {
		width: 6px;
	}

	.overflow-y-auto::-webkit-scrollbar-track {
		background: oklch(var(--muted));
	}

	.overflow-y-auto::-webkit-scrollbar-thumb {
		background: oklch(var(--muted-foreground) / 0.3);
		border-radius: 3px;
	}

	.overflow-y-auto::-webkit-scrollbar-thumb:hover {
		background: oklch(var(--muted-foreground) / 0.5);
	}

	/* Focus styles for accessibility */
	*:focus-visible {
		outline: 2px solid oklch(var(--primary));
		outline-offset: 2px;
	}

	/* Mobile optimizations */
	@media (max-width: 768px) {
		body {
			-webkit-overflow-scrolling: touch;
		}
	}

	/* Prevent text selection on images and UI elements */
	img {
		user-select: none;
		-webkit-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
	}

	/* Smooth transitions for theme changes */
	* {
		transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
		transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
		transition-duration: 150ms;
	}

	/* Enhanced button styles */
	button {
		@apply transition-all duration-200 ease-in-out;
	}

	button:hover {
		@apply scale-[1.02];
	}

	button:active {
		@apply scale-[0.98];
	}

	/* Card hover effects */
	.card-hover {
		@apply transition-all duration-300 ease-in-out;
	}

	.card-hover:hover {
		@apply shadow-lg scale-[1.01];
	}

	/* Backdrop blur support */
	.backdrop-blur-sm {
		backdrop-filter: blur(4px);
		-webkit-backdrop-filter: blur(4px);
	}

	.backdrop-blur-md {
		backdrop-filter: blur(12px);
		-webkit-backdrop-filter: blur(12px);
	}

	.backdrop-blur-xl {
		backdrop-filter: blur(24px);
		-webkit-backdrop-filter: blur(24px);
	}

	/* Loading animation */
	@keyframes spin {
		from {
			transform: rotate(0deg);
		}
		to {
			transform: rotate(360deg);
		}
	}

	.animate-spin {
		animation: spin 1s linear infinite;
	}

	/* Fade in animation */
	@keyframes fadeIn {
		from {
			opacity: 0;
			transform: translateY(10px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.animate-fade-in {
		animation: fadeIn 0.3s ease-out;
	}

	/* Slide up animation */
	@keyframes slideUp {
		from {
			opacity: 0;
			transform: translateY(20px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.animate-slide-up {
		animation: slideUp 0.4s ease-out;
	}

	/* Pulse animation for loading states */
	@keyframes pulse {
		0%,
		100% {
			opacity: 1;
		}
		50% {
			opacity: 0.5;
		}
	}

	.animate-pulse {
		animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
	}

	/* Custom gradient backgrounds */
	.gradient-primary {
		background: linear-gradient(135deg, oklch(var(--primary)) 0%, oklch(var(--primary) / 0.8) 100%);
	}

	.gradient-card {
		background: linear-gradient(135deg, oklch(var(--card)) 0%, oklch(var(--card) / 0.95) 100%);
	}

	/* Text gradient */
	.text-gradient {
		background: linear-gradient(135deg, oklch(var(--primary)) 0%, oklch(var(--accent)) 100%);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	/* Shadow utilities */
	.shadow-glow {
		box-shadow: 0 0 20px oklch(var(--primary) / 0.3);
	}

	.shadow-card {
		box-shadow:
			0 4px 6px -1px oklch(var(--foreground) / 0.1),
			0 2px 4px -1px oklch(var(--foreground) / 0.06);
	}

	/* Border utilities */
	.border-gradient {
		border: 1px solid transparent;
		background:
			linear-gradient(oklch(var(--background)), oklch(var(--background))) padding-box,
			linear-gradient(135deg, oklch(var(--primary) / 0.5), oklch(var(--accent) / 0.5)) border-box;
	}

	/* Safe area insets for mobile devices */
	@supports (padding: max(0px)) {
		.safe-top {
			padding-top: max(1rem, env(safe-area-inset-top));
		}

		.safe-bottom {
			padding-bottom: max(1rem, env(safe-area-inset-bottom));
		}

		.safe-left {
			padding-left: max(1rem, env(safe-area-inset-left));
		}

		.safe-right {
			padding-right: max(1rem, env(safe-area-inset-right));
		}
	}

	/* Print styles */
	@media print {
		* {
			background: transparent !important;
			color: black !important;
			box-shadow: none !important;
			text-shadow: none !important;
		}

		.no-print {
			display: none !important;
		}
	}

	/* High contrast mode support */
	@media (prefers-contrast: high) {
		:root {
			--border: 0 0 0;
			--input: 0 0 0;
		}

		.dark {
			--border: 1 0 0;
			--input: 1 0 0;
		}
	}

	/* Reduced motion support */
	@media (prefers-reduced-motion: reduce) {
		*,
		*::before,
		*::after {
			animation-duration: 0.01ms !important;
			animation-iteration-count: 1 !important;
			transition-duration: 0.01ms !important;
			scroll-behavior: auto !important;
		}
	}
}

/* Component-specific styles */
@layer components {
	/* Manga page image styles */
	.manga-page {
		@apply w-full h-auto rounded-lg shadow-lg cursor-pointer hover:shadow-xl transition-all duration-200 select-none;
		image-rendering: -webkit-optimize-contrast;
		image-rendering: crisp-edges;
	}

	.manga-page:hover {
		@apply scale-[1.01];
	}

	/* Settings panel styles */
	.settings-card {
		@apply border-border/30 bg-card/50 backdrop-blur-sm card-hover;
	}

	/* Button variants */
	.btn-primary {
		@apply bg-primary hover:bg-primary/90 text-primary-foreground font-medium transition-all duration-200;
	}

	.btn-secondary {
		@apply bg-secondary hover:bg-secondary/80 text-secondary-foreground font-medium transition-all duration-200;
	}

	.btn-outline {
		@apply border border-border bg-transparent hover:bg-accent hover:text-accent-foreground font-medium transition-all duration-200;
	}

	/* Input styles */
	.input-field {
		@apply bg-background/50 border-border/50 focus:border-primary/50 text-foreground placeholder:text-muted-foreground transition-all duration-200;
	}

	/* Loading spinner */
	.spinner {
		@apply animate-spin rounded-full border-2 border-muted border-t-primary;
	}

	/* Toast notification styles */
	.toast-success {
		@apply bg-green-500/10 border-green-500/20 text-green-400;
	}

	.toast-error {
		@apply bg-red-500/10 border-red-500/20 text-red-400;
	}

	.toast-info {
		@apply bg-blue-500/10 border-blue-500/20 text-blue-400;
	}
}
